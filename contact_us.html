<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - LEAD Art Heist</title>
    <link rel="stylesheet" href="contact_us_style.css">
</head>
<body>

    <div id="bg-container">
        <div id="art-collage">
            <div class="collage-item item-1"></div>
            <div class="collage-item item-2"></div>
            <div class="collage-item item-3"></div>
            <div class="collage-item item-4"></div>
            <div class="collage-item item-5"></div>
            <div class="collage-item item-6"></div>
        </div>
        <div class="bg-tint"></div>
        <canvas id="matrixCanvas"></canvas>
    </div>

    <nav>
        <a href="index.html" class="logo">
            <img src="images/matrix_lead_logo.png" alt="LEAD Logo">
        </a>
        <div class="hamburger" id="hamburger-menu">
            <span></span><span></span><span></span>
        </div>
        <div class="nav-links" id="nav-menu">
            <a href="index.html">Home</a>
            <a href="events.html">Events</a>
            <a href="sponsors.html">Sponsors</a>
            <a href="contact.html" class="active">Contact Us</a>
        </div>
    </nav>

    <div class="main-content">
        <div class="content-layout-wrapper">
            <div class="contact-container">
                <div class="contact-header">
                    <h1>Initiate Contact</h1>
                    <p>Have inquiries about the event? Secure channel open.</p>
                </div>
                <form class="form-grid" id="contactForm">
                    <div class="form-group">
                        <input type="text" id="fname" name="fname" class="form-input" placeholder=" " required 
                            pattern="[A-Za-z]+" title="Letters only, no spaces allowed.">
                        <label for="fname" class="form-label">First Name</label>
                    </div>
                    
                    <div class="form-group">
                        <input type="text" id="lname" name="lname" class="form-input" placeholder=" " required 
                            pattern="[A-Za-z]+" title="Letters only, no spaces allowed.">
                        <label for="lname" class="form-label">Last Name</label>
                    </div>

                    <div class="form-group">
                        <input type="email" id="email" name="email" class="form-input" placeholder=" " required 
                            pattern="^[a-zA-Z0-9._%+-]+@thapar\.edu$" title="Must be a @thapar.edu email with no spaces.">
                        <label for="email" class="form-label">Thapar Email</label>
                    </div>

                    <div class="form-group">
                        <input type="tel" id="phone" name="phone" class="form-input" placeholder=" " required 
                            pattern="[0-9]{10}" maxlength="10" inputmode="numeric" title="Exactly 10 digits required. No spaces or letters.">
                        <label for="phone" class="form-label">Phone Number</label>
                    </div>

                    <div class="form-group full-width">
                        <textarea id="message" name="message" rows="5" class="form-input" placeholder=" " required></textarea>
                        <label for="message" class="form-label">Message / Intel</label>
                    </div>

                    <button type="submit" id="submitBtn" class="submit-btn">Transmit Data</button>
                    <p id="formStatus" style="grid-column: span 2; text-align: center; margin-top: 15px; font-family: 'Orbitron', sans-serif; font-size: 0.9rem; min-height: 1.5em;"></p>
                </form>
            </div>

            <div class="social-dock-vertical">
                <div class="card-vertical">
                    <a href="https://www.instagram.com/lead_tiet/" target="_blank" class="social-container" aria-label="Instagram">
                        <svg viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg>
                    </a>
                    <a href="https://www.youtube.com/@leadsociety7357/videos" target="_blank" class="social-container" aria-label="YouTube">
                        <svg viewBox="0 0 576 512"><path d="M549.655 124.396c-4.73-21.97-21.956-39.196-43.926-43.926C466.963 70 288 70 288 70s-178.963 0-217.728 10.47c-21.97 4.73-39.196 21.956-43.926 43.926C16 163.16 16 256 16 256s0 92.84 10.345 131.604c4.73 21.97 21.956 39.196 43.926 43.926C109.037 442 288 442 288 442s178.963 0 217.728-10.47c21.97-4.73 39.196-21.956 43.926-43.926C560 348.84 560 256 560 256s0-92.84-10.345-131.604zM232 336V176l144 80-144 80z"></path></svg>
                    </a>
                    <a href="https://www.facebook.com/leadthapar/" target="_blank" class="social-container" aria-label="Facebook">
                        <svg viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg>
                    </a>
                    <a href="https://lead2025.netlify.app/" target="_blank" class="social-container" aria-label="Website">
                        <svg viewBox="0 0 512 512"><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.4c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm18.6 160h116.9c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6zm149.1 0h160.7c-6.1 36.4-15.5 68.6-27 94.7-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5-11.6-26-20.9-58.2-27-94.7zm209 0h116.9c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6z"></path></svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        /* --- 1. RESPONSIVE HAMBURGER & INTERACTION --- */
        const hamburger = document.getElementById('hamburger-menu');
        const navMenu = document.getElementById('nav-menu');

        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                hamburger.classList.toggle('toggle');
            });

            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (window.innerWidth <= 968) {
                        e.preventDefault(); 
                        const href = this.getAttribute('href');
                        this.classList.add('nav-clicked');

                        setTimeout(() => {
                            window.location.href = href;
                            navMenu.classList.remove('active');
                            hamburger.classList.remove('toggle');
                            this.classList.remove('nav-clicked');
                        }, 800);
                    }
                });
            });
        }

        /* --- 2. MATRIX RAIN ANIMATION --- */
        const canvas = document.getElementById('matrixCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        
        function resizeCanvas() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            initDrops();
        }
        window.addEventListener('resize', resizeCanvas);

        const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ$#@&%';
        const fontSize = 14;
        let columns;
        let drops = [];

        function initDrops() {
            columns = Math.ceil(width / fontSize);
            drops = [];
            for (let i = 0; i < columns; i++) {
                drops.push({
                    y: Math.random() * height,
                    direction: Math.random() > 0.4 ? 1 : -1, 
                    speed: Math.random() * 0.15 + 0.05, 
                    drift: (Math.random() - 0.5) * 0.2 
                });
            }
        }
        resizeCanvas();

        let lastTime = 0;
        const targetFPS = 24; 
        const frameInterval = 1000 / targetFPS;

        function draw(currentTime) {
            requestAnimationFrame(draw);
            const deltaTime = currentTime - lastTime;
            if (deltaTime < frameInterval) return;
            lastTime = currentTime - (deltaTime % frameInterval);

            ctx.clearRect(0, 0, width, height);
            ctx.font = fontSize + 'px monospace';
            ctx.textAlign = 'center';
            
            for (let i = 0; i < drops.length; i++) {
                const drop = drops[i];
                const hue = Math.random() > 0.8 ? 0 : (Math.random() > 0.5 ? 180 : 0);
                const alpha = Math.random() * 0.4 + 0.2;

                ctx.fillStyle = `hsla(${hue}, 100%, 70%, ${alpha})`;
                const text = chars[Math.floor(Math.random() * chars.length)];
                const x = i * fontSize + (drop.y * drop.drift); 
                ctx.fillText(text, x, drop.y);

                if (drop.direction === 1) {
                    drop.y += fontSize * drop.speed;
                    if (drop.y > height + fontSize && Math.random() > 0.98) { drop.y = -fontSize; }
                } else {
                    drop.y -= fontSize * drop.speed;
                    if (drop.y < -fontSize && Math.random() > 0.98) { drop.y = height + fontSize; }
                }
            }
        }
        requestAnimationFrame(draw);

        /* --- 4. REAL-TIME INPUT RESTRICTIONS (The Firewall) --- */
        const fnameInput = document.getElementById('fname');
        const lnameInput = document.getElementById('lname');
        const emailInput = document.getElementById('email');
        const phoneInput = document.getElementById('phone');

        // Prevent spaces and non-letters in Names
        [fnameInput, lnameInput].forEach(el => {
            el.addEventListener('input', () => {
                el.value = el.value.replace(/[^A-Za-z]/g, '');
            });
        });

        // Prevent spaces in Email using the 'keydown' method
        emailInput.addEventListener('keydown', (e) => {
            if (e.code === "Space") {
                e.preventDefault(); // This stops the space from ever being typed
            }
        });

        // Prevent letters/spaces in Phone (Digits only)
        phoneInput.addEventListener('input', () => {
            phoneInput.value = phoneInput.value.replace(/[^0-9]/g, '');
        });
        
        /* --- 3. FORM SUBMISSION TO GOOGLE SHEETS --- */
        const contactForm = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const formStatus = document.getElementById('formStatus');
        const allInputs = contactForm.querySelectorAll('.form-input');

        const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyFiXG9SFIN5vtIYRUUTSAsMpoLMBOCX9B8foXkgoGUBEwOaemtJU3e-xoYtELXIaOyKw/exec";

        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // --- HARD GATE: THAPAR DOMAIN CHECK ---
            const emailValue = emailInput.value.trim().toLowerCase();
            if (!emailValue.endsWith('@thapar.edu')) {
                formStatus.style.color = "#ff3333";
                formStatus.textContent = "> ERROR: AUTHORIZED @THAPAR.EDU ID REQUIRED.";
                emailInput.focus();
                return; // Kill submission
            }

            // 1. Prepare Data
            const formData = new FormData(contactForm);
            const body = new URLSearchParams(formData).toString();

            // 2. Lock UI (Heist Theme)
            submitBtn.disabled = true;
            allInputs.forEach(input => input.disabled = true);
            
            submitBtn.innerText = "TRANSMITTING...";
            formStatus.style.color = "#fff";
            formStatus.textContent = "> Establishing secure uplink...";

            // 3. Send to Google Sheets
            fetch(WEB_APP_URL, {
                method: "POST",
                mode: "no-cors", 
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: body
            })
            .then(() => {
                formStatus.style.color = "#00ff00";
                formStatus.textContent = "> INTEL RECEIVED. TRANSMISSION SECURE.";
                contactForm.reset();
                
                setTimeout(() => { 
                    formStatus.textContent = ""; 
                    submitBtn.innerText = "TRANSMIT DATA";
                    submitBtn.disabled = false;
                    allInputs.forEach(input => input.disabled = false);
                }, 5000);
            })
            .catch(err => {
                formStatus.style.color = "#ff3333";
                formStatus.textContent = "> ERROR: UPLINK INTERRUPTED.";
                submitBtn.disabled = false;
                allInputs.forEach(input => input.disabled = false);
                submitBtn.innerText = "RETRY TRANSMISSION";
            });
        });
    </script>
</body>
</html>